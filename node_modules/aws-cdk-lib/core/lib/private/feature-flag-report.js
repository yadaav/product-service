"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateFeatureFlagReport=generateFeatureFlagReport;var cloud_assembly_schema_1=()=>{var tmp=require("@aws-cdk/cloud-assembly-schema");return cloud_assembly_schema_1=()=>tmp,tmp},feats=()=>{var tmp=require("../../../cx-api/lib/features");return feats=()=>tmp,tmp};function parseFeatureFlagInfo(flagName,info,root){return{userValue:root.node.tryGetContext(flagName)??void 0,recommendedValue:info.recommendedValue,explanation:info.summary,unconfiguredBehavesLike:info.unconfiguredBehavesLike?.[feats().CURRENT_MV]?{v2:info.unconfiguredBehavesLike?.[feats().CURRENT_MV]}:void 0}}function generateFeatureFlagReport(builder,root){const featureFlags={};for(const[flagName,flagInfo]of Object.entries(feats().FLAGS))feats().CURRENT_VERSION_EXPIRED_FLAGS.includes(flagName)||(featureFlags[flagName]=parseFeatureFlagInfo(flagName,flagInfo,root));builder.addArtifact("aws-cdk-lib/feature-flag-report",{type:cloud_assembly_schema_1().ArtifactType.FEATURE_FLAG_REPORT,properties:{module:"aws-cdk-lib",flags:featureFlags}})}
